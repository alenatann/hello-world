---
title: "week2"
date: "2024-01-31"
output: 
  github_document:
    toc: true
    toc_depth: 2
    fig_width: 7
    fig_height: 6

---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
data = readRDS("data/wk2_stocks.rds")
cumu_returns = sum(data$SPY_returns)*100
# cumu_returns = 2.1833
avg_returns = mean(data$SPY_returns)*100
#avg_returns = 0.00037656
sd_returns = sd(data$SPY_returns)*100
#sd_returns = 0.012219

```

+ The cumulative returns of the S&P index during this period is `r cumu_returns`%.
+ The average daily returns of the S&P index during this period is `r avg_returns`%.
+ The standard deviation of the daily returns of the S&P index during this period is `r sd_returns`%.


```{r}
library(ggplot2)

ggplot(data, aes(x = date, y = SPY_prices)) +
  geom_line()

```


```{r}

library(dplyr)
library(lubridate)

yearly = data %>% 
  mutate(year = year(date)) %>% 
  group_by(year) %>% 
  summarise(yearly_returns = sum(SPY_returns))

ggplot(yearly, aes(x=year, y=yearly_returns)) +
  geom_col()
```